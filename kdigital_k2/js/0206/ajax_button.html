<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script>
        const getAJAX = function(n){
            const req = new XMLHttpRequest();
            req.open('GET','/data/name.txt');
            req.send();
            req.onreadystatechange = function(){
                if(this.readyState !== XMLHttpRequest.DONE) return;
                if(this.status ==200){
                    resp = req.response;
                    datas = JSON.parse(resp);
                    //const name = resp - 가져올 값이 배열이 아닌 경우 datas를 생략하고 바로 resp받아서 innerText로 사용
                    //const name = datas[0];//array
                        const name = datas[n];//object
                        const span = document.querySelector('span');
                         span.innerHTML = name;
                };
            };
        };
        window.onload = function () {
          const btn1 = document.querySelector('#btn1');
          btn1.addEventListener('click',function(){ //callback함수(시스템이 부르는 함수) - click되면 실행됨.
            getAJAX(0);
          });  
          const btn2 = document.querySelector('#btn2');
          btn2.addEventListener('click',function(){ //callback함수(시스템이 부르는 함수) - click되면 실행됨.
            getAJAX(1);
          });  
          const btn3 = document.querySelector('#btn3');
          btn3.addEventListener('click',function(){ //callback함수(시스템이 부르는 함수) - click되면 실행됨.
            getAJAX(2);
          });  
        };
    </script>
</head>
<body>
    <h1>Name : <span></span></h1>
    <button id="btn1">getName 1</button>
    <button id="btn2">getName 2</button>
    <button id="btn3">getName 3</button>
</body>
</html>