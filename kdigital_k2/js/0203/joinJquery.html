<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>joinJquery.html</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
    <script>
        //jquery
        $(document).ready( function(){
            const check = function () {
                const form = document.joinForm;
                const uid = form.uid;
                const upw1 = form.upw1;
                const upw2 = form.upw2;
                const name = form.uname;
                const age = form.uage;

               if (uid.value.length ===0) {
                    alert('ID 입력 필수');
                    uid.focus();
                    return;
               }
               if (uid.value.length < 2) {
                    alert('ID는 2글자 이상');
                    uid.focus();
                    return;
               }
               if (upw1.value.length ===0) {
                    alert('PW 입력 필수');
                    upw1.focus();
                    return;
               }
               if (upw2.value.length ===0) {
                    alert('PW확인 입력 필수');
                    upw2.focus();
                    return;
               }
               if (upw1.value !== upw2.value) {
                    alert('PW와 PW확인은 같지 않음');
                    upw1.value ='';
                    upw2.value='';
                    upw1.focus();
                    return;
               }
               if (uname.value.length ===0) {
                    alert('Name 입력 필수');
                    uname.focus();
                    return;
               }
               if (uname.value.length < 2) {
                    alert('Name는 2글자 이상');
                    uname.focus();
                    return;
               }
               //작성 완료
            //    form.setAttribute('method','post');
            //    form.setAttribute('action','join_proc.jsp');
            //    form.submit();
            $('#joinForm').attr('method','post');
            $('#joinForm').attr('action','join_proc.jsp');
            $('#joinForm').submit();
            };
            const joinBtn = document.querySelector('#joinBtn');
            $('#joinBtn').on('click', function () {
                check();
            });
        });
    </script>
</head>
<body>
    <div class="container">
    <h1>회원가입</h1>
    <form name="joinForm" id="joinForm">
        <table class="table">
            <tr>
                <td>ID</td>
            </tr>
            <tr>
                <td><input type="text" name="uid" id="uid" ></td>
            </tr>
            <tr>
                <td>PW</td>
            </tr>
            <tr>
                <td><input type="password" name="upw1" id="upw1"></td>
            </tr>
            <tr>
                <td>PW 확인</td>
            </tr>
            <tr>
                <td><input type="password" name="upw2" id="upw2"></td>
            </tr>
            <tr>
                <td>Name</td>
            </tr>
            <tr>
                <td><input type="text" name="uname" id="uname"></td>
            </tr>
            <tr>
                <td>Age</td>
            </tr>
            <tr>
                <td><input type="text" name="uage" id="uage"></td>
            </tr>
            <tr>
                <td><button type="button" class="btn btn-outline-primary" id="joinBtn">JOIN</button></td>
            </tr>
        </table>
    </form>
</div>
</body>
</html>